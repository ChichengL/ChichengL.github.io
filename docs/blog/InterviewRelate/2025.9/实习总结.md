### 实习收获（总）
1. 了解了完整的研发流程
2. 学会了将需求拆分
3. 了解了参与项目的意义和地位
4. 从有基础能力变为能够为一个需求负责的工程师

实习中不足的点：
1. 缺乏自己的思考
2. 缺少基于实习的探索

### 2025.4-2025.8 MeegoPPM实习
#### 实习收获：
- 了解了完整的软件研发流程
- 了解了项目管理工具的市场
- 独立负责，完整参与需求链路
#### 重点参与项目
##### 泳道图相关需求
泳道图恢复被删除节点、泳道图支持恢复节点能力、泳道图状态条里程碑重叠问题、承接泳道图相关的oncall

开发背景：泳道图是可视化流程之一，功能应该和标准版本的流程图对齐，只不过在展示细节上有所差异。不过当时的流程图还有一部分内容没有对齐流程图相关的内容，比如对于节点裁剪之后的节点恢复能力，打开泳道图时跳转某个节点的能力。泳道图缺少这些能力会导致用户从流程图切换到泳道图后感受到功能落差。

泳道图：meego的三大可视化流程之一，wbs计划表、流程图为其他可视化。
- 对于流程图而言更注重时序性，注重前后的扭转顺序，比如需要PM先做什么，后续研发才能继续参与
- 对于泳道图而言，泳道图更加宏达，更注重于多部门的协调工作
- 对于WBS计划表（work break structure），可以将多个任务拆分更加细致，这点对于传统硬件行业及其重要，对于软件研发而言需要更快的迭代周期，对于硬件行业来说前置的准备是不可或缺的同时一旦启动项目研发，就需要走到底，否则会造成极大的亏损，这里为了保障每一个步骤的准确性计划表孕育而生，此外对于计划表而言，有特定的排期联动，以及交付物内容等。
在开发泳道图需求中遇见的难点两个
1. 不熟悉的库，在Meego中有很多数据相关的内容，往往需要呈现大量的数据，为了解决大量数据渲染引起的性能问题，Meego中有两个库CDK（canvas drawer kit）和RDK（rust drawer kit）
   泳道图中使用的是RDK，RDK上手有成本问题，虽然他与React集成，但是会出现一些莫名奇妙的问题。比如因为各个元素的z-index不同导致事件无法触发。
   我的解决方案，将RDK的使用方案以及相关代码梳理在文档中，同时将自己遇见的问题梳理在文档中，方便后续的实习生/校招生在接手之后遇见相关问题可以快速解决。
2. 泳道图恢复被删除节点时，数据不一致问题。
   在泳道图点击恢复节点按钮之后，会发起一个请求，后端接受到这个请求之后会创建一个异步任务，去写入数据，同时返回前端 表明自己接收到这个请求。前端接收到这个请求之后会立即去请求数据，此时可能出现数据还未写入，导致读取到的数据为脏数据。这里做了一个处理当恢复节点时获取泳道图节点的参数readAfterWrite为true，这个时候后端会等待写入数据之后再返回前端。
   这个方案的不足点在于：用户在点击恢复按钮之后，会等待较长时间（比如1s）才会刷新视图并通知恢复完成。
   在复盘这个需求时，发现了这个问题。后续结合Meego的请求model，考虑的解决方案
   在发起请求之后不做悲观更新，做一次本地的乐观更新，然后使用websocket或者现有的model，等待后端完成这个操作之后再次请求数据。
在解决里程碑重叠问题时，还将一些算法思想比如合并区间融入到了本次需求中

在开发过程中我还实践了SOLID（面向对象设计核心原则）
1. 单一职责，将数据层和渲染层拆离，数据层单独收敛hook
2. 书写新组件考虑开放原则，对拓展组件开放，类似于HOC，对修改封闭。
>还有其他的原则，不过在实践中用到的比较少
>1. 里氏替换：子类能够完全替换掉父类，替换之后不影响程序的执行，我理解这里也是对拓展开放对修改封闭。
>2. 接口隔离：抽象通用的接口
>3. 依赖倒置：高层模块不应依赖低层模块，两者都应依赖抽象；抽象不应依赖细节，细节应依赖抽象。中间应该有个抽象的Adapter层桥接两者。
##### 配置侧相关需求
Meego本身是一个高度抽象，可自定义的流程管理引擎，为了满足不同业务的自定义需求，因此出现了配置侧相关的内容。
计算角色相关

背景：对于一个项目来说，项目开发（对标一个空间）往往使用的同一套角色，那么对于角色的复用就需要有一个比较好的解决方案，以往实现消费WBS相关联的角色是通过配置大量的规则来进行同步，在这个同步过程中，存在性能问题，以及准确性的风险
这里我的理解是将使用成本转移到开发成本上。
比如 
- 以前的开发成本是1，使用成本是100，那么多次使用，总共的成本就会很高
- 现在的开发成本是100，使用成本是1，多次使用也不会导致成本过高
这里的设计理念和组件库的设计、性能优化、解决技术债务的思想一致。

计算角色是基于几个普通角色的角色比如在A项目的PM同时也担任了B项目的PM，那么这个B项目中的角色可以是基于A项目中的PM来得到的。
在配置侧主要解决了，支持计算角色消费WBS关系（在PPM中重点是支持项目管理工具在传统硬件行业的落地，这里传统硬件行业使用WBS计划表最多，因此需要让某些功能消费WBS关系来达到客户预期的效果）

这里支持了计算角色消费WBS关系，在这个需求中的难点是重构了角色选择组件。
原本是一个组件中有两个选择器，工作项选择器和角色选择器，经过重构之后拆分为两个组件，保证各个组件履行自己的职责。
这里遇到的问题是，对组件的重构，比如数据结构不一致的适配问题，以及就是对特殊工作项的异化，比如原本的组件是采用的cascader+对象类型的item。
后续重构的是这个角色的relation_uuid作为cascader的值，同时因为存在WBS关系，relation_uuid可能为空，这里做了最后做了三层判定/两层判定，这个判定是做了一层封装，对于不同工作项采用不同的策略模式，目前只对交付物工作项做了特化的策略，其余的工作项是做默认策略。
交付物工作项中对于cascader可能存在三层数据结构，可能存在两层数据结构也就是这个cascader拿到的值数组长度可能是3可能是2，这里做了特殊处理。


此外就是对于计算角色的命名做处理，这里是做边界情况的兜底。
在本次项目中虽然重点不是这个命名规则，但是在这个命名规则的确认花了不少时间。
最初版本按照PM的要求设计了命名规则发现无法兜底特殊情况，后续跟PM拉会沟通，由我给出完整的规则，然后让PM做决定。（这里这样子做是因为PM往往更熟悉产品的使用情况和边界能力，而研发更熟悉其设计，因此这里交给PM去做决定）
这里主要做了四个场景，基本上能覆盖所有的使用场景。


### 2024.10-2025.4 创意智能Creative AI 实习
#### 实习收获
独立负责接手的业务。
了解到整个广告的流程。
自己的思考：成长性不够，没有参与到完整的流程中。

业务目标： 提升AI广告在广告中的消费占比
#### 重点需求
Creative AI性能优化
背景：有客户反馈卡顿，同时slardar监控平台查看数据后发现FCP、LCP等数据持续走高
优化周期比较长
第一版优化：主站creativestudio.com
做了懒加载、预加载、预获取、替换打包工具等。
我这里主要做第二版优化：
我的优化思路是从两个方向：
1. 资源加载方向
	1. 懒加载非首屏应用。
	2. rspack splitChunk 
	3. 压缩打包后资源
	4. 将lodash换为lodash-es等更适合tree-shaking的包
	5. 开启资源压缩
2. 渲染方向
	1. 并行无关加载数据
不足点，没有根据火焰图来进行判定，没有学会查看火焰图，进行具体分析。

LCP下降只有一部分是因为，渲染方面没有做太多的内容，导致最大元素的渲染还是比较靠后，即使是资源已经加载完成之后，因为数据没有获取导致没有替换对应的元素。

FCP下降比较多，首先是做了资源的加载处理。
其次是在首页嵌入loading，防止用户看见白屏时间较长。
以往是做了loading的，但是loading是坐在资源加载下来之后也就是html下载解析之后再进行请求校验身法，然后再加载资源，因此loading出现时间比较晚。这里将loading的时间提前，在第一版html中塞入loading，那么fcp就相当于html加载的时长，后续等待内容完成之后再做。

其实这里想过做SSR，但是因为考虑成本问题后续就暂时搁置，不过在25年1月左右又重新启动做SSR了。



### 2024.5-2024.8 快手客服平台实习
#### 实习收获
第一次接触企业级项目开发流程，能够根据需求拆分功能，并加以实现

